(function(l,u){typeof exports=="object"&&typeof module<"u"?u(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],u):(l=typeof globalThis<"u"?globalThis:l||self,u(l["dkfds-vue3-utils"]={},l.Vue))})(this,function(l,u){"use strict";var ie=Object.defineProperty;var se=(l,u,v)=>u in l?ie(l,u,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[u]=v;var m=(l,u,v)=>(se(l,typeof u!="symbol"?u+"":u,v),v);function v(i,e=!1){var a;const t=u.ref((a=u.inject("formid",null))!=null?a:i),o=`fid_${y().replaceAll("-","")}`;return{formid:u.computed(()=>{var r;if(!t.value&&!e)throw Error("Form id is not set. Did you forget formgroup");return(r=t==null?void 0:t.value)!=null?r:o})}}function y(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,i=>(i^crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16))}function $(i){const e=RegExp("data:([0-9a-z/.-]+);base64,","g");return e.test(i)?i.slice(e.lastIndex):i}function I(i,e="download"){const t=window.URL.createObjectURL(i),o=document.createElement("a");o.href=t,o.download=e,o.click(),window.URL.revokeObjectURL(t)}function x(i,e){return new Blob([i],{type:e})}function P(i){let e=i,t=0;const o=1024;for(;e>=o||-e>=o;)e/=o,t+=1;return`${(t?`${e.toFixed(1)} `:e)+" KMGTPEZY"[t]}B`}function q(i){return decodeURIComponent(escape(window.atob(i)))}function M(...i){return e=>{const t=i.map(o=>o(e)).filter(o=>o!==null);return t&&t.length>0?t:[]}}function G(i){return e=>e<=i?null:`Feltet m\xE5 overstige ${i}.`}function H(i){return e=>e>i?null:`Feltet m\xE5 ikke v\xE6re mindre end ${i}.`}function V(i){return e=>e.length<=i?null:`Feltet m\xE5 ikke v\xE6re l\xE6ngere end ${i} tegn.`}function W(i){return e=>e.length>=i?null:`Feltet m\xE5 ikke v\xE6re kortere end ${i} tegn.`}function j(i,e="tegn"){return t=>t.length===i?null:`Feltet skal v\xE6re n\xF8jagtigt ${i} ${e}.`}function U(i){return/^[1-9][0-9]{7}$/.test(i)?null:"CVR nummer er ikke korrekt angivet"}function z(i){return/((?:(?:31(?:0[13578]|1[02])|(?:30|29)(?:0[13-9]|1[0-2])|(?:0[1-9]|1[0-9]|2[0-8])(?:0[1-9]|1[0-2]))[0-9]{2}|2902(?:[02468][048]|[13579][26])))-?[0-9]{4}/.test(i)?null:"CPR nummer er ikke korrekt angivet"}function X(i){return RegExp(/^[AXB][0-9]{2}-[A-Z]{2}-[0-9]{2}-[A-Z]{2}(-[0-9]{2}$|-[0-9]{2}-[A-Z]{2})*$/,"g").test(i.toUpperCase())?null:"Sagsnummer ikke korrekt angivet"}function Z(i){return i!==null&&i.replace(/\s+/g,"").length>0?null:"Feltet m\xE5 ikke v\xE6re tomt."}function Y(i){return/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(i)?null:"Email er ikke korrekt angivet"}function D(i){return i.indexOf(" ")!==-1?"Feltet m\xE5 ikke har mellemrum.":null}function F(...i){return i.every(e=>e.trim().length>0)}function J(i){return Array.isArray(i)?i.some(t=>t.checked===!0)?null:"Angiv venligst et valg":"Ukendt indhold"}function Q(i){const e=i!=null?i:`fid_${y().replaceAll("-","")}`;return u.ref(e)}const A={xs:0,sm:576,md:768,lg:992,xl:1200},f=class{constructor(e){m(this,"buttonElement");m(this,"targetEl");m(this,"responsiveListCollapseEnabled",!1);if(!e)throw new Error("Could not find button for overflow menu component.");this.buttonElement=e;const t=this.buttonElement.getAttribute(f.TARGET);if(!t)throw new Error(`Attribute could not be found on overflow menu component: ${f.TARGET}`);const o=document.getElementById(t.replace("#",""));if(!o)throw new Error("Panel for overflow menu component could not be found.");this.targetEl=o}init(){var e,t,o,n;if(this.buttonElement&&this.targetEl){(((t=(e=this.buttonElement)==null?void 0:e.parentNode)==null?void 0:t.classList.contains("overflow-menu--md-no-responsive"))||((n=(o=this.buttonElement)==null?void 0:o.parentNode)==null?void 0:n.classList.contains("overflow-menu--lg-no-responsive")))&&(this.responsiveListCollapseEnabled=!0),document.getElementsByTagName("body")[0].removeEventListener("click",this.outsideClose),document.getElementsByTagName("body")[0].addEventListener("click",this.outsideClose),this.buttonElement.removeEventListener("click",s=>this.toggleDropdown(s)),this.buttonElement.addEventListener("click",s=>this.toggleDropdown(s));const a=this.targetEl,r=this.buttonElement;window.IntersectionObserver&&new IntersectionObserver(c=>{c[0].intersectionRatio?r.getAttribute("aria-expanded")==="false"&&a.setAttribute("aria-hidden","true"):a.getAttribute("aria-hidden")==="true"&&a.setAttribute("aria-hidden","false")},{root:document.body}).observe(r),document.removeEventListener("keyup",s=>this.closeOnEscape(s)),document.addEventListener("keyup",s=>this.closeOnEscape(s))}}hide(){this.toggle(this.buttonElement)}show(){this.toggle(this.buttonElement)}closeOnEscape(e){e.key==="Escape"&&this.closeAll()}closeAll(e){var n;let t=!1;const o=document.getElementsByClassName("overflow-menu");for(let a=0;a<o.length;a+=1){const r=o[a],s=r.querySelector(`${f.BUTTONCLASS}[aria-expanded="true"]`);if(s){t=!0;const c=r.querySelector(`#${(n=s.getAttribute(f.TARGET))==null?void 0:n.replace("#","")}`);if(c&&f.doResponsiveCollapse(s)){if(s.getAttribute("aria-expanded")){const d=new Event("fds.dropdown.close");s.dispatchEvent(d)}s.setAttribute("aria-expanded","false"),c.classList.add("collapsed"),c.setAttribute("aria-hidden","true")}}}t&&e&&e.stopImmediatePropagation()}offset(e){const t=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+n,left:t.left+o}}toggleDropdown(e,t=!1){e.stopPropagation(),e.preventDefault(),this.toggle(this.buttonElement,t)}toggle(e,t=!1){const o=e;let n=null;if(o!=null){const a=o.getAttribute(f.TARGET);a!=null&&(n=document.getElementById(a.replace("#","")))}if(o&&n)if(n.style.left="",n.style.right="",o.getAttribute("aria-expanded")==="true"||t){o.setAttribute("aria-expanded","false"),n.classList.add("collapsed"),n.setAttribute("aria-hidden","true");const a=new Event("fds.dropdown.close");o.dispatchEvent(a)}else{document.getElementsByTagName("body")[0].classList.contains("mobile_nav-active")||this.closeAll(),o.setAttribute("aria-expanded","true"),n.classList.remove("collapsed"),n.setAttribute("aria-hidden","false");const a=new Event("fds.dropdown.open");o.dispatchEvent(a);const r=this.offset(n);r.left<0&&(n.style.left="0px",n.style.right="auto");let s=r.left+n.offsetWidth;s>window.innerWidth&&(n.style.left="auto",n.style.right="0px");const c=this.offset(n);c.left<0&&(n.style.left="0px",n.style.right="auto"),s=c.left+n.offsetWidth,s>window.innerWidth&&(n.style.left="auto",n.style.right="0px")}}hasParent(e,t){var o,n;return((o=e.parentElement)==null?void 0:o.tagName)===t?!0:t!=="BODY"&&e.parentElement&&((n=e.parentElement)==null?void 0:n.tagName)!=="BODY"?this.hasParent(e.parentElement,t):!1}outsideClose(e){var t,o;if(!document.getElementsByTagName("body")[0].classList.contains("mobile_nav-active")&&document.querySelector("body.mobile_nav-active")===null&&!((t=e.target)!=null&&t.classList.contains("button-menu-close"))){const n=document.querySelectorAll(`${f.BUTTONCLASS}[aria-expanded=true]`);for(let a=0;a<n.length;a+=1){const r=n[a];let s=null,c=r.getAttribute(f.TARGET);if(c&&(c.indexOf("#")!==-1&&(c=c.replace("#","")),s=document.getElementById(c)),(f.doResponsiveCollapse(r)||this.hasParent(r,"HEADER")&&!((o=e.target)!=null&&o.classList.contains("overlay")))&&e.target!==r){r.setAttribute("aria-expanded","false"),s==null||s.classList.add("collapsed"),s==null||s.setAttribute("aria-hidden","true");const d=new Event("fds.dropdown.close");r.dispatchEvent(d)}}}}static doResponsiveCollapse(e){var t,o;if(!e.classList.contains(f.jsDropdownCollapseModifier))if(((t=e.parentElement)==null?void 0:t.classList.contains("overflow-menu--md-no-responsive"))||((o=e.parentElement)==null?void 0:o.classList.contains("overflow-menu--lg-no-responsive"))){if(window.innerWidth<=f.getTringuideBreakpoint(e))return!0}else return!0;return!1}static getTringuideBreakpoint(e){var t;return(t=e.parentElement)!=null&&t.classList.contains("overflow-menu--lg-no-responsive")?A.lg:A.md}};let b=f;m(b,"BUTTONCLASS",".button-overflow-menu"),m(b,"jsDropdownCollapseModifier","js-dropdown--responsive-collapse"),m(b,"TARGET","data-js-target");const w=".nav",K=`${w} a`,O=".js-menu-open",L=".js-menu-close",_=".overlay",ee=`${L}, .overlay`,te=[w,_].join(", "),T="mobile_nav-active",oe="is-visible";let C;const g=class{static focusTrapInit(e){console.warn("focusTrapInit",e);const t='a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]',o=e.querySelectorAll(t),[n]=o;function a(r){const{key:s}=r;if(s==="Tab"){let c=null;for(let d=0;d<o.length;d+=1){const k=o.length-1,p=o[k-d];if(p.offsetWidth>0&&p.offsetHeight>0){c=p;break}}r.shiftKey?document.activeElement===n&&(r.preventDefault(),c==null||c.focus()):document.activeElement===c&&(r.preventDefault(),n.focus())}r.key==="Escape"&&g.toggleNav(!1)}return{enable(){n.focus(),document.addEventListener("keydown",a)},release(){document.removeEventListener("keydown",a)}}}static toggleNav(e){const{body:t}=document;console.warn("incActive",e);const o=typeof e=="boolean"?e:!g.isActive();t.classList.toggle(T,o),console.warn("toggleNav",T,o),g.selectStuff(te).forEach(r=>r.classList.toggle(oe,o)),o?C.enable():C.release();const n=t.querySelector(L),a=t.querySelector(O);return o&&n?n.focus():!o&&document.activeElement===n&&a&&a.focus(),o}mobileMenu(){let e=!1;const t=document.querySelectorAll(O);for(let n=0;n<t.length;n+=1)window.getComputedStyle(t[n],null).display!=="none"&&(t[n].addEventListener("click",g.toggleNav),e=!0);if(e){const n=document.querySelectorAll(ee);for(let s=0;s<n.length;s+=1)n[s].addEventListener("click",g.toggleNav);const a=document.querySelectorAll(K);a.forEach((s,c)=>{a[c].addEventListener("click",()=>{g.isActive()&&g.toggleNav(!1)})});const r=document.querySelectorAll(w);for(let s=0;s<r.length;s+=1)C=g.focusTrapInit(r[s])}const o=document.body.querySelector(L);g.isActive()&&o&&o.getBoundingClientRect().width===0&&g.toggleNav.call(o,!1)}init(){window.addEventListener("resize",this.mobileMenu,!1),this.mobileMenu()}teardown(){window.removeEventListener("resize",this.mobileMenu,!1)}};let E=g;m(E,"selectStuff",e=>[...window.document.querySelectorAll(e)]),m(E,"isActive",()=>document.body.classList.contains(T));class ne{constructor(e){m(this,"TOGGLE_ATTRIBUTE","data-controls");m(this,"radioGroup");m(this,"radioEls");if(!e)throw new Error("Could not find panel element. Verify value of attribute");this.radioGroup=e,this.radioEls=[...this.radioGroup.querySelectorAll('input[type="radio"]')],this.init()}init(){if(this.radioEls.length===0)throw new Error("No radiobuttons found in radiobutton group.");this.radioEls.forEach(e=>{e.addEventListener("change",()=>{for(let t=0;t<this.radioEls.length;t+=1)this.toggle(this.radioEls[t])}),this.toggle(e)})}toggle(e){const t=e.getAttribute(this.TOGGLE_ATTRIBUTE);if(t!=null&&t!==""){const o=document.querySelector(t);if(o==null)throw new Error(`Could not find panel element. Verify value of attribute ${this.TOGGLE_ATTRIBUTE}`);e.checked?this.expand(e,o):this.collapse(e,o)}}expand(e,t){if(e!=null&&t!==null&&t!==void 0){e.setAttribute("data-expanded","true"),t.setAttribute("aria-hidden","false");const o=new Event("fds.radio.expanded");e.dispatchEvent(o)}}collapse(e,t){if(e!=null&&t!==null&&t!==void 0){e.setAttribute("data-expanded","false"),t.setAttribute("aria-hidden","true");const o=new Event("fds.radio.collapsed");e.dispatchEvent(o)}}}class h{constructor(e){m(this,"element");if(!e)throw new Error("Tooltip newElement is missing.");if(this.element=e,this.element.getAttribute("data-tooltip")===null)throw new Error("Tooltip text is missing. Add attribute data-tooltip and the content of the tooltip as value.")}init(){this.element.addEventListener("mouseenter",e=>{const t=e.target;t.classList.contains("tooltip-hover")===!1&&t.classList.contains("tooltip-focus")===!1&&(this.closeAllTooltips(e),t.classList.add("tooltip-hover"),setTimeout(()=>{if(t.classList.contains("tooltip-hover")){const o=e.target;if(o.getAttribute("aria-describedby")!==null)return;this.addTooltip(o)}},300))}),this.element.addEventListener("mouseleave",e=>{const t=e.target;if(t.classList.contains("tooltip-hover")){t.classList.remove("tooltip-hover");const o=t.getAttribute("aria-describedby");if(!o)return;document.getElementById(o)!==null&&h.closeHoverTooltip(t)}}),this.element.addEventListener("keyup",e=>{const t=e.target;if(e.key==="Escape"){const o=t.getAttribute("aria-describedby");if(!o)return;const n=document.getElementById(o);o&&n&&document.body.removeChild(n),t.classList.remove("active"),t.removeAttribute("aria-describedby")}}),this.element.getAttribute("data-tooltip-trigger")==="click"&&this.element.addEventListener("click",e=>{const t=e.target;this.closeAllTooltips(e),t.classList.add("tooltip-focus"),t.classList.remove("tooltip-hover"),t.getAttribute("aria-describedby")===null&&this.addTooltip(t)}),document.getElementsByTagName("body")[0].removeEventListener("click",this.closeAllTooltips),document.getElementsByTagName("body")[0].addEventListener("click",this.closeAllTooltips)}closeAll(){const e=document.querySelectorAll(".js-tooltip[aria-describedby]");for(let t=0;t<e.length;t+=1){const o=e[t].getAttribute("aria-describedby");if(!o)return;e[t].removeAttribute("aria-describedby"),document.body.removeChild(document.getElementById(o))}}addTooltip(e){const t=e.getAttribute("data-tooltip-position")||"top",o=this.createTooltip(e,t);document.body.appendChild(o),this.positionAt(e,o,t)}createTooltip(e,t){var d;const o=document.createElement("div");o.className="tooltip-popper";const a=`tooltip-${document.getElementsByClassName("tooltip-popper").length+1}`;o.setAttribute("id",a),o.setAttribute("role","tooltip"),o.setAttribute("x-placement",t),e.setAttribute("aria-describedby",a);const r=document.createElement("div");r.className="tooltip";const s=document.createElement("div");s.className="tooltip-arrow",r.appendChild(s);const c=document.createElement("div");return c.className="tooltip-content",c.innerHTML=(d=e.getAttribute("data-tooltip"))!=null?d:"",r.appendChild(c),o.appendChild(r),o}positionAt(e,t,o){const n=e,a=e.getBoundingClientRect(),r=e.getBoundingClientRect(),s=12;let c,d=r.top-t.offsetHeight-s;const k=t.offsetWidth;let p="down";if(c=r.left+(e.offsetWidth-t.offsetWidth)/2,o==="bottom"&&(d=r.bottom+s,p="up"),c<0){c=s;const B=a.left+n.offsetWidth/2,R=8,S=B-s-R;t.getElementsByClassName("tooltip-arrow")[0].style.left=`${S}px`}if(d+t.offsetHeight>=window.innerHeight&&(d=r.top-t.offsetHeight-s,p="down"),d<0&&(d=r.bottom+s,p="up"),window.innerWidth<c+k){t.style.right=`${s}px`;const B=a.right-n.offsetWidth/2,R=8,S=window.innerWidth-B-s-R;t.getElementsByClassName("tooltip-arrow")[0].style.right=`${S}px`,t.getElementsByClassName("tooltip-arrow")[0].style.left="auto"}else t.style.left=`${c}px`;t.style.top=`${d+pageYOffset}px`,t.getElementsByClassName("tooltip-arrow")[0].classList.add(p)}closeAllTooltips(e,t=!1){var n,a;const o=(a=(n=e.target)==null?void 0:n.classList)!=null?a:new DOMTokenList;if(t||!o.contains("js-tooltip")&&!o.contains("tooltip")&&!o.contains("tooltip-content")){const r=document.querySelectorAll(".tooltip-popper");for(let s=0;s<r.length;s+=1){const c=document.querySelector(`[aria-describedby=${r[s].getAttribute("id")}]`);if(!c)return;c.removeAttribute("data-tooltip-active"),c.removeAttribute("aria-describedby"),c.classList.remove("tooltip-focus"),c.classList.remove("tooltip-hover"),document.body.removeChild(r[s])}}}static onTooltipHover(e){const t=e.target,o=document.querySelector(`[aria-describedby=${t.getAttribute("id")}]`);!o||(o.classList.add("tooltip-hover"),t.addEventListener("mouseleave",()=>{const n=document.querySelector(`[aria-describedby=${t.getAttribute("id")}]`);n!==null&&(n.classList.remove("tooltip-hover"),h.closeHoverTooltip(n))}))}static closeHoverTooltip(e){const t=e.getAttribute("aria-describedby");if(!t)return;const o=document.getElementById(t);!o||(o.removeEventListener("mouseenter",h.onTooltipHover),o.addEventListener("mouseenter",h.onTooltipHover),setTimeout(()=>{document.getElementById(t)!==null&&(e.classList.contains("tooltip-hover")||h.removeTooltip(e))},300))}static removeTooltip(e){const t=e.getAttribute("aria-describedby");if(!t)return;const o=document.getElementById(t);t!==null&&o!==null&&document.body.removeChild(o),e.removeAttribute("aria-describedby"),e.classList.remove("tooltip-hover"),e.classList.remove("tooltip-focus")}}var N=(i=>(i.primary="primary",i.secondary="secondary",i.tertiary="tertiary",i.quaternary="quaternary",i.info="info",i.success="success",i.warning="warning",i.error="error",i))(N||{});l.FdsVariantEnum=N,l.arrayHasItems=J,l.base64Decode=q,l.breakpoints=A,l.charactersEqualsLength=j,l.charactersMaxLength=V,l.charactersMinLength=W,l.downloadBlob=I,l.dropdown=b,l.formId=v,l.generateId=Q,l.hasContent=Z,l.navigation=E,l.noSpace=D,l.notEmpty=F,l.numberMax=G,l.numberMin=H,l.radioToggleContent=ne,l.readableFileSize=P,l.removeBrowserFileContentHeaders=$,l.tooltip=h,l.updateBlobType=x,l.uuid=y,l.validCPR=z,l.validCVR=U,l.validEmail=Y,l.validSagsnummer=X,l.validateAllErrorMessage=M,Object.defineProperties(l,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
